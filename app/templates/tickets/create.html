{% extends "base.html" %}

{% block title %}Create Ticket - Helpdesk System{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <h1 class="text-3xl font-bold text-gray-900 mb-6">Create New Ticket</h1>
    
    <div class="card">
        <div class="card-body">
            <form method="POST" action="{{ url_for('tickets.create_ticket') }}" enctype="multipart/form-data">
                <div class="mb-4">
                    <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">Subject *</label>
                    <input type="text" id="subject" name="subject" required 
                           class="w-full" placeholder="Brief description of your issue">
                </div>
                
                <div class="mb-4">
                    <label for="category_id" class="block text-sm font-medium text-gray-700 mb-2">Category *</label>
                    <select id="category_id" name="category_id" required class="w-full">
                        <option value="">Select a category</option>
                        {% for category in categories %}
                            <option value="{{ category.id }}">{{ category.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="mb-4">
                    <label for="priority" class="block text-sm font-medium text-gray-700 mb-2">Priority</label>
                    <select id="priority" name="priority" class="w-full">
                        <option value="low">Low</option>
                        <option value="medium" selected>Medium</option>
                        <option value="high">High</option>
                        <option value="urgent">Urgent</option>
                    </select>
                </div>
                
                <div class="mb-4">
                    <label for="description" class="block text-sm font-medium text-gray-700 mb-2">Description *</label>
                    <textarea id="description" name="description" required rows="6" 
                              class="w-full" placeholder="Provide detailed information about your issue..."></textarea>
                    <p class="text-xs text-gray-500 mt-1">Please include as much detail as possible to help us resolve your issue quickly.</p>
                </div>
                
                <div class="mb-6">
                    <label for="attachment" class="block text-sm font-medium text-gray-700 mb-2">Attachment (Optional)</label>
                    <input type="file" id="attachment" name="attachment" class="w-full">
                    <div class="file-info text-xs text-gray-500 mt-1"></div>
                    <p class="text-xs text-gray-500 mt-1">
                        Supported formats: {{ ', '.join(['txt', 'pdf', 'png', 'jpg', 'jpeg', 'gif', 'doc', 'docx']) }}. 
                        Maximum size: 16MB.
                    </p>
                </div>
                
                <div class="flex gap-4">
                    <button type="submit" class="btn btn-primary">Create Ticket</button>
                    <a href="{{ url_for('tickets.list_tickets') }}" class="btn btn-outline">Cancel</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}